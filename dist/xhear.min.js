//! xhear - v7.5.25 https://github.com/ofajs/Xhear  (c) 2018-2025 YAO
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).$=t()}(this,(function(){"use strict";const e="https://ofajs.github.io/ofa-errors/errors",t={load_fail:"Load {url} failed",load_fail_status:"Load {url} failed, status code: {status}",load_module:"Load module failed, module address: {url}",no_alias:"No alias found: {name}, so '{url}' request is invalid",config_alias_name_error:"Error in setting alias, must start with '@'",alias_already:"Alias ​​'{name}' already exists",alias_relate_name:"Alias ​​cannot be configured with relative address, '{name}': '{path}'",failed_to_set_data:"Error in setting attribute value {key}",failed_to_get_data:"Error in getting {key}",nexttick_thread_limit:"nextTick exceeds thread limit, may have an infinite loop, please try to repair or optimize the function",not_func:"The callback parameter of the {name} method must be a Function",not_found_func:"The '{name}' method was not found on the target {tag}. Please define the '{name}' method on the 'proto' of the component {tag}",invalid_key:"The parameters for registering the '{compName}' component are incorrect. The '{name}' on '{targetName}' is already occupied. Please change '{name}' to another name.",xhear_wrap_no_parent:"The target element has no parent element, the warp method cannot be used",xhear_unwrap_has_siblings:"The target element contains adjacent nodes, the unwrap method cannot be used",xhear_reander_err:"Failed to render the tag '{tag}'",xhear_register_exists:"The component '{name}' already exists, and this component cannot be registered repeatedly",xhear_register_err:"Error in registering the '{tag}' component",xhear_validate_tag:"The registered component name '{str}' is incorrect. For the Web Components naming rules, please refer to: https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/define#valid_custom_element_names ",xhear_tag_noline:"The registered component name '{str}' is incorrect and contains at least one '-' character; Web Components For naming rules, please refer to: https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/define#valid_custom_element_names ",xhear_regster_data_noset:"Error in registering component {tag}, custom data cannot have data of type 'Set' or 'Map'",xhear_regster_data_nofunc:"Registration component {tag} error, functions cannot appear in custom data, please put the function in 'proto'; or change '{key}' to '_{key}'",xhear_fakenode_unclose:"This is an unclosed FakeNode; use the wrong attribute name: {name}",xhear_fill_tempname:"Fill component template '{name}' not found",xhear_eval:"Template syntax '{name}' error, expression {name}:{arg0}=\"{arg1}\"",xhear_listen_already:"An old listener already exists, and this element is rendering incorrectly. ",xhear_dbfill_noname:"Only fill components with the 'name' attribute can be rendered in the fill component",xhear_temp_exist:"Template '{name}' already exists",xhear_sync_no_options:"Direct use of the 'sync' method is not allowed, it is only used for template rendering",xhear_sync_object_value:"Cannot use 'sync' to synchronize values ​​of Object type, target {targetName}",loading_nothing:"Loading function has no return content",app_src_change:"The app element that has been initialized cannot modify the src attribute",no_cross_access_func:"To jump to a page across domains, you must set the access function",access_return_error:"Jumping to {src} is not allowed",load_comp_module:"Error loading component module, wrong module address: {url}",comp_registered:"Component '{tag}' has been registered, and the component cannot be registered again","inject-link-rel":"The rel attribute value of the link element in the inject-host component can only be 'stylesheet'","use-data-inject":"Please do not use data() on the style element in the inject-host, because it will cause serious performance crisis",load_page_module:"Loading page module {url} failed",page_no_defaults:"The current page ({src}) has been rendered and cannot be rendered again",not_page_module:"{src} is not a page module and cannot be set as the src of the page component",page_failed:"Loading page failed: {src}",fetch_temp_err:"Page module {url} failed to load template {tempSrc}",page_wrap_fetch:"Page {before} failed to get the parent page ({current})",context_change_name:"Changing the 'name' of {compName} may cause performance issues, please avoid changing this property",no_provider:"The consumer named '{name}' was not captured by the corresponding provider",page_invalid_key:"The registration parameters of page {src} are incorrect. '{name}' on '{targetName}' is already taken. Please change '{name}' to another name.",root_provider_exist:"An exception occurred in the root provider named '{name}'. The root provider component can only appear once",root_provider_name_change:"An exception occurred in the root provider named '{name}'. The root provider component cannot change the 'name' attribute",change_lm_src:"{tag} element changes 'src' attribute invalid, this attribute can only be set once.",error_no_owner:"This data is incorrect, the owner has not registered this object",circular_data:"An object with a circular reference",fill_type:"'value' of 'x-fill' must be of type Array, the current value is of type {type}",fill_key_duplicates:"The key in the fill component is repeated",render_el_error:"Rendering element failed, rendering error is {expr}",temp_multi_child:"The template element can only contain one child element. If multiple child elements appear, the child elements will be repackaged in a <div> element",temp_wrap_child:"The template '{tempName}' contains {len} child elements, which have been wrapped in a div element with the attribute '{wrapName}'.",app_noback:"This is already the first page, and the 'back' operation cannot be performed again",invalidated_inject_host:"This element will be invalidated in 'inject-host'",olink_out_app:"The element of [olink] is only allowed in o-app",app_noforward:"This is the last page, you can no longer perform the 'forward' operation",need_forwards:"The target o-app does not allow forward operations, please add the '_forwards' attribute to the target; or in the app config file, add 'export const allowForward = true' ",watchuntil_timeout:"watchUntil timed out, target value not monitored"};if(globalThis.navigator&&navigator.language){let r=navigator.language.toLowerCase().split("-")[0];"zh"===r&&"zh-cn"!==navigator.language.toLowerCase()&&(r="zhft"),(async()=>{if(!globalThis.localStorage)return;if(globalThis.navigator&&!navigator.onLine)return;if(localStorage["ofa-errors"]){const e=JSON.parse(localStorage["ofa-errors"]);Object.assign(t,e)}const n=localStorage["ofa-errors-time"];if(!n||Date.now()>Number(n)+3e5){const n=await fetch(`${e}/${r}.json`).then((e=>e.json())).catch((()=>null));n?(localStorage["ofa-errors"]=JSON.stringify(n),localStorage["ofa-errors-time"]=Date.now()):n=await fetch(`${e}/en.json`).then((e=>e.json())).catch((e=>null)),Object.assign(t,n)}})()}let r=!1;globalThis.navigator&&(r=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"));const n=(e,t,n)=>{let o,s=a(e,t);return n?(r&&(s+=`\nCaused by: ${n.toString()}\n`,n.stack&&(s+=`  ${n.stack.replace(/\n/g,"\n    ")}`)),o=new Error(s,{cause:n})):o=new Error(s),o.code=e,o},a=(e,r)=>{if(!t[e])return`Error code: "${e}", please go to https://github.com/ofajs/ofa-errors to view the corresponding error information`;let n=t[e];if(r)for(let e in r)n=n.replace(new RegExp(`{${e}}`,"g"),r[e]);return n},o=()=>Math.random().toString(32).slice(2),s=Object.prototype.toString,i=e=>s.call(e).toLowerCase().replace(/(\[object )|(])/g,""),l=e=>{const t=i(e);return"array"===t||"object"===t};let c,h=0;function d(e){clearTimeout(c),c=setTimeout((()=>{h=0})),Promise.resolve().then((()=>{if(h++,h>1e5){const t=n("nexttick_thread_limit");throw console.warn(t,"lastCall => ",e),t}e()}))}const u=(e,t,r={})=>([...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)].forEach((n=>{const a=Object.getOwnPropertyDescriptor(t,n),{configurable:o,enumerable:s,writable:i,get:l,set:c,value:h}=a;"value"in a?e.hasOwnProperty(n)?e[n]=h:Object.defineProperty(e,n,{enumerable:s,configurable:o,writable:i,...r,value:h}):Object.defineProperty(e,n,{enumerable:s,configurable:o,...r,get:l,set:c})})),e);function f(e){try{return Object.getPrototypeOf(e),!1}catch(e){return e instanceof TypeError}}const p=e=>i(e).includes("function"),g=e=>e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()));const m=e=>e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})),_=(e,t)=>{const r=document.createElement("template");return r.content.append(e.cloneNode()),!!r.content.querySelector(t)};const y=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},b=(e,t)=>e instanceof HTMLTemplateElement?Array.from(e.content.querySelectorAll(t)):Array.from(e.querySelectorAll(t));const{assign:w,freeze:v}=Object;class x{constructor(e){w(this,e),v(this)}hasModified(e){if("array"===this.type)return this.path.includes(this.currentTarget.get(e));const t=e.split(".");if(this.currentTarget===this.target&&this.name===t[0])return!0;const r=k(this,t).indexOf(this.target);if(r>-1){const e=t.slice(r+1);return!e.length||this.name===e[0]}return this.path.includes(this.currentTarget[e])}hasReplaced(e){if("set"!==this.type)return!1;const t=e.split(".");if(this.target===this.currentTarget&&this.name===t[0])return!0;const r=k(this,t).indexOf(this.target);if(r>-1){return t.slice(r+1)[0]===this.name}return!1}}const k=(e,t)=>{const r=[],n=t.slice();let a=e.currentTarget;for(;n.length;){const e=n.shift();a&&(a=a[e]),r.push(a)}return r};class T extends Array{constructor(e){super(...e)}hasModified(e){return this.some((t=>t.hasModified(e)))}hasReplaced(e){return this.some((t=>t.hasReplaced(e)))}}const E=({type:e,currentTarget:t,target:r,name:a,value:o,oldValue:s,args:i,path:l=[]})=>{if(l&&l.includes(t)){const e=n("circular_data");return void console.warn(e,{currentTarget:t,target:r,path:l})}let c={type:e,target:r,name:a,oldValue:s,value:o};if("array"===e&&(delete c.value,c.args=i),t._hasWatchs){const e=new x({currentTarget:t,...c,path:[...l]});t[$].forEach((t=>{t(e)}))}t._update&&t.owner.forEach((e=>{E({currentTarget:e,...c,path:[t,...l]})}))};var A={watch(e){if(!(e instanceof Function))throw n("not_func",{name:"watch"});const t="w-"+o();return this[$].set(t,e),t},unwatch(e){return this[$].delete(e)},watchTick(e,t){if(!(e instanceof Function))throw n("not_func",{name:"watchTick"});return this.watch(function(e,t=0){let r=null,n=[];return function(...a){n.push(...a),t>0?(clearTimeout(r),r=setTimeout((()=>{e.call(this,n),n=[],r=null}),t)):null===r&&(r=1,d((()=>{r=null;const t=n.slice();n=[],e.call(this,t)})))}}((t=>{f(this)||(t=t.filter((e=>{try{e.path.forEach((e=>e.xid))}catch(e){return!1}return!0})),e(new T(t)))}),t||0))},refresh(e){const t={...e,type:"refresh",target:this,currentTarget:this};E(t)},watchUntil(e,t=3e4){return new Promise(((r,a)=>{let o,s;const i=this.watch(o=()=>{e()&&(clearTimeout(s),this.unwatch(i),r(this))});s=setTimeout((()=>{this.unwatch(i);const t=n("watchuntil_timeout");console.warn(t,e,this),a(t)}),t),o()}))}};const O=["push","pop","shift","unshift","splice","reverse","sort","fill","copyWithin"],S=Symbol("placeholder");const N={},j=Array.prototype;O.forEach((e=>{j[e]&&(N[e]=function(...t){const r=Array.from(this),n=j[e].apply(this[P],t),{deletedItems:a,addedItems:o}=function(e,t){const r=Array.from(t),n=Array.from(e),a=[],o=new Map,s=e.length;for(let t=0;t<s;t++){const n=e[t],o=r.indexOf(n);o>-1?r[o]=S:a.push(n)}const i=t.length;for(let e=0;e<i;e++){const r=t[e],a=n.indexOf(r);a>-1?n[a]=S:o.set(e,r)}return{deletedItems:a,addedItems:o}}(r,this);for(let[e,t]of o)D(t)?t._owner.push(this):l(t)&&(this.__unupdate=1,this[e]=t,delete this.__unupdate);for(let e of a)z(e,this);return E({type:"array",currentTarget:this,target:this,args:t,name:e,oldValue:r}),n===this[P]?this[H]:n})})),["concat","filter","slice","flatMap","map"].forEach((e=>{if("constructor"===e||O.includes(e))return;const t=Array.prototype[e];t instanceof Function&&(N[e]=function(...e){return t.call(Array.from(this),...e)})}));const{defineProperties:L,getOwnPropertyDescriptor:M,entries:C}=Object,P=Symbol("self"),H=Symbol("proxy"),$=Symbol("watchs"),R=Symbol("isxdata"),D=e=>e&&!!e[R];function F(e,t=q){let r,{proxy:n,revoke:a}=Proxy.revocable(this,t);return n._update=1,L(this,{xid:{value:e.xid||o()},_owner:{value:[]},owner:{configurable:!0,get(){return new Set(this._owner)}},[R]:{value:!0},[P]:{configurable:!0,get:()=>this},[H]:{configurable:!0,get:()=>n},[$]:{get:()=>r||(r=new Map)},_hasWatchs:{get:()=>!!r},_revoke:{value:a},__init_is_array:{value:Array.isArray(e)}}),Object.keys(e).forEach((t=>{const r=M(e,t);let{value:a,get:o,set:s}=r;o||s?L(this,{[t]:r}):n[t]=a})),n}class I extends Array{constructor(e,t){return super(),F.call(this,e)}revoke(){const e=this[P];e._onrevokes&&(e._onrevokes.forEach((e=>e())),e._onrevokes.length=0),e.__unupdate=1,e[$].clear(),C(this).forEach((([e,t])=>{D(t)&&(this[e]=null)})),e._owner.forEach((e=>{C(e).forEach((([t,r])=>{r===this&&(e[t]=null)}))})),delete e[P],delete e[H],e._revoke()}toJSON(){let e={},t=!0,r=-1;const n=this.__init_is_array;Object.keys(this).forEach((n=>{let a=this[n];/\D/.test(n)?t=!1:(n=parseInt(n))>r&&(r=n),D(a)&&(a=a.toJSON()),e[n]=a})),t&&(e.length=r+1,e=Array.from(e),e.length||n||(e={}));const a=this.xid;return L(e,{xid:{get:()=>a}}),e}toString(){return JSON.stringify(this.toJSON())}extend(e,t){return u(this,e,t)}get(e){if(/\./.test(e)){const t=e.split(".");let r=this;for(let a=0,o=t.length;a<o;a++)try{r=r[t[a]]}catch(r){const o=n("failed_to_get_data",{key:t.slice(0,a).join(".")},r);throw console.warn(o,{key:e,self:this}),o}return r}return this[e]}set(e,t){if(/\./.test(e)){const r=e.split("."),a=r.pop();let o=this;for(let t=0,a=r.length;t<a;t++)try{o=o[r[t]]}catch(a){const o=n("failed_to_get_data",{key:r.slice(0,t).join(".")},a);throw console.warn(o,{key:e,self:this}),o}return o[a]=t}return this[e]=t}}I.prototype.extend({...A,...N},{enumerable:!1});const{defineProperties:W}=Object,B=({target:e,key:t,value:r,receiver:n,type:a,succeed:o})=>{const s=n[t];let i=r;if(D(i)){if(s===r)return!0;i._owner.push(n)}else if(l(r)){const a=Object.getOwnPropertyDescriptor(e,t);a&&!a.hasOwnProperty("value")||(i=new(e.__OriginStanz||I)(r,{owner:n}),i._owner.push(n))}const c=s===r;!c&&D(s)&&z(s,n);const h=o(i);return!c&&!e.__unupdate&&E({type:a||"set",target:n,currentTarget:n,name:t,value:r,oldValue:s}),h},z=(e,t)=>{if(D(e)){const r=e._owner.indexOf(t);if(r>-1)e._owner.splice(r,1);else{const r=n("error_no_owner");console.warn(r,{owner:t,mismatch:e}),console.error(r)}}},q={set(e,t,r,a){if("symbol"==typeof t)return Reflect.set(e,t,r,a);if(/^_/.test(t))return e.hasOwnProperty(t)?Reflect.set(e,t,r,a):W(e,{[t]:{writable:!0,configurable:!0,value:r}}),!0;try{return B({target:e,key:t,value:r,receiver:a,succeed:r=>Reflect.set(e,t,r,a)})}catch(a){const o=n("failed_to_set_data",{key:t},a);throw console.warn(o,{target:e,value:r}),o}},deleteProperty:(e,t)=>/^_/.test(t)||"symbol"==typeof t?Reflect.deleteProperty(e,t):B({target:e,key:t,value:void 0,receiver:e[H],type:"delete",succeed:()=>Reflect.deleteProperty(e,t)})},J={set:(e,t,r,n)=>/\D/.test(String(t))?e[t]===r||("html"===t?Reflect.set(e,t,r,n):q.set(e,t,r,n)):Reflect.set(e,t,r,n),get:(e,t,r)=>/\D/.test(String(t))?Reflect.get(e,t,r):Fe(e.ele.children[t]),ownKeys(e){let t=Reflect.ownKeys(e),r=e.ele.children.length;for(let e=0;e<r;e++)t.push(String(e));return t},getOwnPropertyDescriptor:(e,t)=>"string"!=typeof t||/\D/.test(t)?Reflect.getOwnPropertyDescriptor(e,t):{enumerable:!0,configurable:!0}},V={beforeRender(){},render(){}},U=e=>e.__revokes||(e.__revokes=[]),X=(e,t)=>U(e).push(t),K=(e,t,r)=>{const n=`\nconst dataRevoked = ${f.toString()};\nconst [$event] = $args;\nconst {data, errCall} = this;\nif(dataRevoked(data)){\n  return;\n}\ntry{\n  with(data){\n    return ${e};\n  }\n}catch(error){\n  if(data.ele && !data.ele.isConnected){\n    return;\n  }\n  if(errCall){\n    const result = errCall(error);\n    if(result !== false){\n      console.error(error);\n    }\n  }else{\n    console.error(error);\n  }\n}\n`;return new Function("...$args",n).bind({data:t,...r})};function Y({data:e,target:t,template:r,temps:a,isRenderSelf:o,...s}){const i=r&&r.innerHTML;i&&(t.innerHTML=i),V.beforeRender({target:t});const l=b(t,"xtext"),c=[],h=U(t);b(t,"style").forEach((t=>{const r=t.innerHTML;if(/data\(.+\)/.test(r)){const n=Array.from(new Set(r.match(/data\(.+?\)/g))).map((t=>{const r=t.replace(/data\((.+)\)/,"$1");return{dataExpr:t,func:K(r,e)}})),a=()=>{let e=r;n.forEach((({dataExpr:t,func:r})=>{e=e.replace(t,r())})),t.innerHTML!==e&&(t.innerHTML=e)};c.push(a);const o=()=>{n.length=0,y(c,a),y(U(t),o),y(h,o)};X(t,o),h.push(o)}})),l.forEach((t=>{const r=document.createTextNode(""),{parentNode:n}=t;n.insertBefore(r,t),n.removeChild(t);const a=K(t.getAttribute("expr"),e),o=()=>{const e=a();r.textContent!==String(e)&&(r.textContent=e)};c.push(o);const s=()=>{y(h,s),y(c,o),y(U(r),s)};h.push(s),X(r,s)}));const d=b(t,"[x-bind-data]");if(o&&_(t,"[x-bind-data]")&&d.unshift(t),d.forEach((r=>{const a=JSON.parse(r.getAttribute("x-bind-data")),o=Fe(r);for(let[s,i]of Object.entries(a))i.forEach((a=>{try{const{always:i}=o[s];let l,d=[];const u=()=>{const[t,r]=a,i=K(r,e,{errCall:e=>{const a=`:${t}="${r}"`,s=n("render_el_error",{expr:a},e);return console.warn(s,{target:o.ele,errorExpr:a}),console.error(s),!1}});d=[t,i];const l=o[s](...d,{actionName:s,target:o,data:e,beforeArgs:a,args:d});return V.render({step:"refresh",args:a,name:s,target:o}),l};let f=()=>{const{revoke:t}=o[s];t&&t({actionName:s,target:o,data:e,beforeArgs:a,args:d,result:l}),y(h,f),y(U(r),f),y(c,u),f=null};i?c.push(u):l=u(),h.push(f),r!==t&&X(r,f)}catch(e){const t=n("xhear_eval",{name:s,arg0:a[0],arg1:a[1]},e);throw console.warn(t,r),t}}));r.removeAttribute("x-bind-data"),r._bindingRendered=!0,r.dispatchEvent(new Event("binding-rendered"))})),t.__render_temps||function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(a)||(t.__render_temps=a),c.length){if(t.__render_data&&t.__render_data!==e){const r=n("xhear_listen_already");throw console.warn(r,{element:t,old:t.__render_data,new:e}),r}t.__render_data=e,c.forEach((e=>e()));const r=e.watchTick((t=>{c.length?c.forEach((e=>e())):e.unwatch(r)}))}V.render({step:"init",target:t})}const Z=e=>{const{tagName:t}=e;if("TEMPLATE"!==t){if(t){const t={};Array.from(e.attributes).forEach((r=>{const n=/(.*):(.+)/.exec(r.name);if(!n)return;let[,a,o]=n;a||(a="prop");(t[a]||(t[a]=[])).push([o,r.value]),e.removeAttribute(r.name)}));Object.keys(t).length&&e.setAttribute("x-bind-data",JSON.stringify(t))}Array.from(e.children).forEach(Z)}},G=(e,t,r)=>{const n=Array.from(e.content.querySelectorAll(t));return r&&n.forEach(r),n};let Q;const ee=e=>{let t={};const r={};G(e,"code",(e=>{const t=o();e.setAttribute("code-id",t),r[t]=e.innerHTML,e.innerHTML=""})),e.innerHTML=e.innerHTML.replace(/{{(.+?)}}/g,((e,t)=>`<xtext expr="${t}"></xtext>`));const a=e.getAttribute("name");if(a){const r=e.content.children;if(r.length>1){if(!Q){const t=n("temp_multi_child");console.warn(t,{content:e.content}),Q=1}const t=`wrapper-${a}`;e.innerHTML=`<div ${t} style="display:contents">${e.innerHTML}</div>`,console.warn(n("temp_wrap_child",{tempName:a,len:r.length,wrapName:t}))}t[a]=e,e.remove()}G(e,"x-fill:not([name])",(e=>{if(e.querySelector("x-fill:not([name])"))throw n("xhear_dbfill_noname");if(e.innerHTML.trim()){const t=`t${o()}`;e.setAttribute("name",t);const r=document.createElement("template");r.setAttribute("name",t),r.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(r)}})),G(e,"x-if,x-else-if,x-else",(e=>{const t=e.children[0];t&&"TEMPLATE"===t.tagName||(e.innerHTML=`<template condition>${e.innerHTML}</template>`)})),G(e,"template",(e=>{const r=ee(e);Object.keys(r).forEach((e=>{if(t[e])throw n("xhear_temp_exist",{name:e})})),t={...t,...r}})),Array.from(e.content.children).forEach((e=>Z(e)));for(let[t,n]of Object.entries(r))G(e,`[code-id="${t}"]`,(e=>{e.removeAttribute("code-id"),e.innerHTML=n}));return t},te=e=>p(e)?e():e,re={prop(...e){let[t,r]=e;if(1===e.length)return this[t];r=te(r),t=g(t),this.set(t,r)},attr(...e){let[t,r]=e;const{ele:n}=this;if(1===e.length)return n.getAttribute(t);r=te(r),!1===r?r=null:!0===r&&(r=""),null==r?n.removeAttribute(t):n.getAttribute(t)!=r&&n.setAttribute(t,r)},class(...e){let[t,r]=e;if(1===e.length)return this.ele.classList.contains(t);r=te(r),r?this.ele.classList.add(t):this.ele.classList.remove(t)},watch(...e){if(e.length<3)return A.watch.apply(this,e);const t=e[2],{beforeArgs:r,data:n}=t,[a,o]=r,s=g(a),i=()=>{let e=this.get(s);n.set(o,e)},l=this.watch((e=>{e.hasModified(s)&&i()}));return i(),()=>{this.unwatch(l)}}};re.prop.always=!0,re.attr.always=!0,re.class.always=!0,re.prop.revoke=({target:e,args:t,$ele:r,data:n})=>{const a=t[0],o=e.get(a);D(o)&&e.set(a,{})},re.watch.revoke=e=>{e.result();const t=e.beforeArgs[1],r=e.data.get(t);D(r)&&e.data.set(t,{})};const ne={sync(e,t,r){if(!r)throw n("xhear_sync_no_options");[e,t]=r.beforeArgs,e=g(e),t=g(t);const{data:a}=r;if(a.get(t)instanceof Object){const e=n("xhear_sync_object_value",{targetName:t});throw console.warn(e,a),e}this[e]=a.get(t);const o=this.watch((r=>{if(r.hasModified(e))try{const r=this.get(e);a.set(t,r)}catch(e){}})),s=a.watch((r=>{if(r.hasModified(t))try{const r=a.get(t);this.set(e,r)}catch(e){}}));return()=>{this.unwatch(o),f(a)||a.unwatch(s)}}};function ae(e,t,r){let a;if(r){const o=r.beforeArgs[1];if(!/[^\d\w_\$\.]/.test(o)){if(!(t=r.data.get(o))){const e=r.data.tag,t=n("not_found_func",{name:o,tag:e?`"${e}"`:""});throw console.warn(t," target =>",r.data),t}t=t.bind(r.data)}a=()=>this.ele.removeEventListener(e,t)}return{revoker:a,name:e,func:t}}ne.sync.revoke=e=>{e.result()};const oe={on(...e){const{revoker:t,name:r,func:n}=ae.call(this,...e);return this.ele.addEventListener(r,n),t||this},one(...e){const{revoker:t,name:r,func:n}=ae.call(this,...e);let a=e=>{this.off(r,a),n(e)};return this.ele.addEventListener(r,a),t||this},off(e,t){return this.ele.removeEventListener(e,t),this},emit(e,t){const r={...t};let n,a;return r.hasOwnProperty("data")&&(n=r.data,delete r.data),e instanceof Event?a=e:e&&(a=new Event(e,{bubbles:!0,...r})),a.data=n,this.ele.dispatchEvent(a),this}};oe.on.revoke=e=>{e.result()},oe.one.revoke=e=>{e.result()};const se=(e,t,r,...n)=>{const{children:a}=e;t<0&&(t+=e.children.length),void 0===r&&(r=e.children.length-t);const o=[];for(let e=t,n=t+r;e<n;e++){const t=a[e];o.push(t)}if(o.forEach((e=>e&&e.remove())),n.length){const r=document.createDocumentFragment();n.forEach((e=>r.append(We(e).ele)));const o=a[t];o?e.insertBefore(r,o):e.appendChild(r)}return o},ie=["push","pop","shift","unshift","splice","reverse","sort","fill","copyWithin"],le={push(...e){const{ele:t}=this;return se(t,t.children.length,0,...e),E({type:"array",currentTarget:this,target:this,args:e,name:"push"}),t.children.length},pop(...e){const{ele:t}=this,r=se(t,t.children.length-1,1,...e);return E({type:"array",currentTarget:this,target:this,args:e,name:"pop"}),Fe(r[0])},shift(...e){const{ele:t}=this,r=se(t,0,1,...e);return E({type:"array",currentTarget:this,target:this,args:e,name:"shift"}),Fe(r[0])},unshift(...e){const{ele:t}=this;return se(t,0,0,...e),E({type:"array",currentTarget:this,target:this,args:e,name:"unshift"}),t.children.length},splice(...e){const t=se(this.ele,...e);return E({type:"array",currentTarget:this,target:this,args:e,name:"splice"}),t.map(Fe)},reverse(...e){const t=Array.from(this.ele.childNodes);ce.reverse.call(t,...e);const r=document.createDocumentFragment();return t.forEach((e=>{e.__internal=1,r.append(e)})),this.ele.append(r),t.forEach((e=>{delete e.__internal})),E({type:"array",currentTarget:this,target:this,args:e,name:"reverse"}),this},sort(...e){const t=Array.from(this.ele.children).map(Fe);ce.sort.call(t,...e);const r=document.createDocumentFragment();return t.forEach((e=>{e.ele.__internal=1,r.append(e.ele)})),this.ele.append(r),t.forEach((e=>{delete e.ele.__internal})),E({type:"array",currentTarget:this,target:this,args:e,name:"sort"}),this}},ce=Array.prototype;Object.keys(Object.getOwnPropertyDescriptors(ce)).forEach((e=>{if("constructor"===e||"length"===e||ie.includes(e))return;const t=ce[e];p(t)&&(le[e]=function(...e){return t.apply(Array.from(this.ele.children).map(Fe),e)})}));class he{}for(let[e,t]of Object.entries(le))Object.defineProperty(he.prototype,e,{value:t});const de=e=>new I(e);Object.assign(de,{is:D});const{defineProperty:ue,assign:fe}=Object,pe=(e,t)=>{const{ele:r}=t;e.forEach((e=>{if(e in r){let n=!1;ue(t,e,{enumerable:!0,get:()=>{let t=r[e];return n&&(/\D/.test(t)?n=!1:t=Number(t)),t},set:t=>{n="number"==typeof t,r[e]=t}})}}))},ge=new Set(["input","textarea","select","option","button","label","fieldset","legend","form"]),me=(e,t={})=>{const{name:r,type:n}=t,{ele:a}=e;let o=a[r];e.on(n,(()=>{E({type:"set",target:e,currentTarget:e,name:r,value:a[r],oldValue:o}),o=a[r]}))},_e=e=>{switch(e.attr("type")){case"file":pe(["multiple","files"],e),me(e,{name:"files",type:"change"});break;case"checkbox":pe(["checked","multiple","value"],e),me(e,{name:"checked",type:"change"});break;case"radio":pe(["checked","value"],e),me(e,{name:"checked",type:"change"});break;default:pe(["placeholder","value"],e),me(e,{name:"value",type:"input"})}},ye=(e,t)=>{const r={};return e.all(t).forEach((e=>{const{name:t,tag:n,ele:a}=e;if("input"===n)switch(e.type){case"checkbox":t in r||(r[t]=[]),a.checked&&r[t].push(a.value);break;case"radio":a.checked&&(r[t]=a.value);break;case"file":r[t]=a.files;break;default:r[t]=a.value}else if("textarea"===n)r[t]=a.value;else if("select"===n){const e=b(a,"option:checked");if(a.multiple)r[t]=e.map((e=>e.value||e.textContent));else{const[n]=e;r[t]=n.value||n.textContent}}else r[t]=e.value})),r};var be={formData(e,t={wait:200}){const r=de({});fe(r,ye(this,e||"input,select,textarea"));const n=this.watchTick((t=>{const n=ye(this,e||"input,select,textarea");!function(e,t){for(let r of Object.keys(e))t.hasOwnProperty(r)||delete e[r];for(let[r,n]of Object.entries(t))e[r]=n}(r,n)}),t.wait),a=r.watchTick((t=>{!function(e,t,r){const n=e.all(t);Object.keys(r).forEach((e=>{const t=n.filter((t=>t.attr("name")===e));if(0===t.length)return;const a=r[e],o=t[0],s=o.attr("type");if(1===t.length){let e=!0;if("input"!==o.tag||"radio"!==s&&"checkbox"!==s||(e=!1),e)return void(o.value!==a&&(o.value=a))}t.forEach((e=>{switch(e.attr("type")){case"radio":e.value===a?e.checked=!0:e.checked=!1;break;case"checkbox":e.checked=a.includes(e.value)}}))}))}(this,e||"input,select,textarea",r)})),o=this,s=r.revoke;return r.extend({revoke(){o.unwatch(n),r.unwatch(a),s.call(this)}}),r}};const we={set:(e,t,r,n)=>(e._ele.style[t]=r,Reflect.set(e,t,r,n),!0),get(e,t,r){if("length"===t)return 0;if(t.startsWith&&t.startsWith("--"))return getComputedStyle(e._ele).getPropertyValue(t);const{style:n}=e._ele;return Array.from(n).includes(t)?n[t]:getComputedStyle(e._ele)[t]}};class ve{constructor(e){const t={};Object.defineProperty(t,"_ele",{enumerable:!1,get:()=>e.ele});const{style:r}=e.ele;return Array.from(r).forEach((e=>{t[e]=r[e]})),e._css=new Proxy(t,we)}}var xe={get css(){return new ve(this)},set css(e){if("string"==i(e))return void(this.ele.style=e);let{style:t}=this,r=Object.keys(e);Array.from(t).forEach((e=>{r.includes(e)||(t[e]="")})),Object.assign(t,e)}};function ke(e){if("string"===i(e)&&!/<.+>/.test(e)){const t=document.querySelector(e);return Fe(t)}return We(e)}Object.defineProperties(ke,{extensions:{value:{}}});const Te={},Ee=(e={})=>{const t={tag:"",temp:"",data:{},proto:{},...e},{fn:r,extensions:o}=ke;let s,l,c;r&&(Object.keys(t.data).forEach((e=>{if(r.hasOwnProperty(e))throw n("invalid_key",{compName:t.tag,targetName:"data",name:e})})),Object.keys(t.proto).forEach((n=>{r.hasOwnProperty(n)&&console.warn(a("invalid_key",{compName:t.tag,targetName:"proto",name:n}),e)})));try{if(function(e){if(!e.includes("-"))throw n("xhear_tag_noline",{str:e});if("-"===e.charAt(0)||"-"===e.charAt(e.length-1))throw n("xhear_validate_tag",{str:e});for(let t=0;t<e.length-1;t++)if("-"===e.charAt(t)&&"-"===e.charAt(t+1))throw n("xhear_validate_tag",{str:e})}(t.tag),t.data=Oe(t.data,t.tag),c=(h=g(t.tag)).charAt(0).toUpperCase()+h.slice(1),Te[c])throw n("xhear_register_exists",{name:c});s=document.createElement("template"),s.innerHTML=t.temp,l=ee(s)}catch(e){throw n("xhear_register_err",{tag:t.tag},e)}var h;const d=e=>{let t;return t=e instanceof Array?[...e]:Object.keys(e),t},u=Te[c]=class extends HTMLElement{constructor(...e){super(...e);const r=Fe(this);if(t.created&&t.created.call(r),t.attrs){const e=d(t.attrs);r.watchTick((t=>{e.forEach((e=>{if(t.hasModified(e)){const t=r[e],n=m(e),a=this.getAttribute(n);if(null==t)this.removeAttribute(n);else if(a!==t){let e=t;const r=i(t);if("number"===r&&a===String(t))return;if("object"===r&&(e=JSON.stringify(e),e===a))return;this.setAttribute(n,e)}}}))})),e.forEach((e=>{null!==r[e]&&void 0!==r[e]&&r[e]!==t.attrs[e]&&this.setAttribute(m(e),r[e])}))}(({defaults:e,ele:t,template:r,temps:a})=>{let o;try{const n={...Oe(e.data,e.tag),...e.attrs};e.attrs&&Object.keys(e.attrs).forEach((e=>{const r=t.getAttribute(m(e));null!=r&&(n[e]=r)})),o=Fe(t),e.proto&&o.extend(e.proto,{enumerable:!1});for(let[e,t]of Object.entries(n))o.hasOwnProperty(e)||(o[e]=t);if(e.temp){const e=t.attachShadow({mode:"open"});e.innerHTML=r.innerHTML,Y({target:e,data:o,temps:a})}e.ready&&e.ready.call(o)}catch(e){throw n("xhear_reander_err",{tag:t.tagName.toLowerCase()},e)}if(e.watch){const t=Object.entries(e.watch);o.watchTick((e=>{for(let[r,n]of t){const t=r.split(",");t.length>=2?t.some((t=>e.hasModified(t)))&&n.call(o,t.map((e=>o[e])),{watchers:e}):e.hasModified(r)&&n.call(o,o[r],{watchers:e})}}));for(let[e,r]of t){const t=e.split(",");t.length>=2?r.call(o,t.map((e=>o[e])),{}):r.call(o,o[e],{})}}})({defaults:t,ele:this,template:s,temps:l})}connectedCallback(){Ae(this)||(t.attached&&t.attached.call(Fe(this)),o.afterAttached&&o.afterAttached(Fe(this)))}disconnectedCallback(){Ae(this)||(t.detached&&t.detached.call(Fe(this)),o.afterDetached&&o.afterDetached(Fe(this)))}attributeChangedCallback(e,t,r){const n=Fe(this);/[^\d.]/.test(r)||"number"!=typeof n[e]||(r=Number(r)),n[g(e)]=r}static get observedAttributes(){return d(t.attrs||{}).map((e=>m(e)))}};if("loading"!==document.readyState)customElements.define(t.tag,u);else{const e="readystatechange";let r;document.addEventListener(e,r=()=>{customElements.define(t.tag,u),document.removeEventListener(e,r)})}};function Ae(e){let t=e;for(;t;){if(t.__internal)return!0;if(t=t.parentNode||t.host,!t||t.tagName&&"BODY"===t.tagName)break}return!1}function Oe(e,t="",r){if(e instanceof Set||e instanceof Map)throw n("xhear_regster_data_noset",{tag:t});if(e instanceof Function)throw n("xhear_regster_data_nofunc",{tag:t,key:r});if("object"!=typeof e||null===e)return e;const a=Array.isArray(e)?[]:{};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(/^_/.test(r)&&e[r]instanceof Function?a[r]=e[r]:a[r]=Oe(e[r],t,r));return a}class Se extends Comment{constructor(e){const t="Fake Node"+(e?": "+e:"");super(` ${t} --end `),this._mark=e,this._inited=!1;const r=new Comment(` ${t} --start `);r.__fake_end=this,Object.defineProperty(this,"_start",{value:r})}init(){this._inited||(this.parentNode.insertBefore(this._start,this),this._inited=!0)}querySelector(e){return this.__searchEl(e,"find")}querySelectorAll(e){return this.__searchEl(e)}__searchEl(e,t="filter"){const r=this.parentNode;if(!r)return[];const n=this.children;return Array.from(r.querySelectorAll(e))[t]((e=>{let t=e;for(;;){if(n.includes(t))return!0;if(t=t.parentNode,!t)break}}))}insertBefore(e,t){const{parentNode:r}=this;Array.from(r.children).includes(t)?r.insertBefore(e,t):r.insertBefore(e,this)}appendChild(e){this.parentNode.insertBefore(e,this)}get children(){const e=[];let t=this;for(;;){if(t=t.previousSibling,!t){if(this.isConnected)throw n("xhear_fakenode_unclose",{name:"children"});break}if(t instanceof HTMLElement)e.unshift(t);else if(t===this._start)break}return e}get childNodes(){const e=[];let t=this;for(;;){if(t=t.previousSibling,!t){if(!this.isConnected)break;throw n("xhear_fakenode_unclose",{name:"childNodes"})}if(t===this._start)break;e.unshift(t)}return e}set innerHTML(e){this.childNodes.forEach((e=>{e.remove()}));const t=document.createElement("template");t.innerHTML=e,Array.from(t.content.childNodes).forEach((e=>{this.appendChild(e)}))}get innerHTML(){const{children:e}=this;let t="";return e.forEach((e=>{t+=e.outerHTML+"\n"})),t}get nextElementSibling(){let e=this.nextSibling;return e?e.__fake_end?e.__fake_end:(!e||e instanceof Element||(e=e.nextElementSibling),e):null}get previousElementSibling(){const{_start:e}=this;let t=e.previousSibling;return t?t instanceof Se?t:e.previousElementSibling:null}}const Ne=e=>{if(e.parentNode){const t=e.parentNode;if(Array.from(e.content.children).forEach((r=>{t.insertBefore(r,e)})),e.remove(),t.querySelector("[x-bind-data]")){const e=Le(t);e&&Y({data:e.data,target:e.target,temps:e.temps})}}};if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))V.beforeRender=({target:e})=>{let t=[];for(;t=Array.from(e.querySelectorAll('template[is="replace-temp"]')),t.length;)t.forEach((e=>{Ne(e)}))};else{class e extends HTMLTemplateElement{constructor(){super(),this.init()}init(){Ne(this)}connectedCallback(){this.init()}}customElements.define("replace-temp",e,{extends:"template"})}const je={data:{value:null,__rendered:!1},watch:{value(){this._bindend&&this.refreshValue()}},proto:{refreshValue(){clearTimeout(this._timer),this._timer=setTimeout((()=>{const e=[this,...this._others];let t=!1;e.forEach((e=>{t?e._clearContent():e.value||"x-else"===e.tag?(t=!0,e._renderContent()):e._clearContent()})),this._fake.parentNode&&Fe(this._fake.parentNode).refresh()}),0)},_renderContent(){if(this.__rendered)return;this.__rendered=!0;const e=Le(this._fake);if(!e)return;const{target:t,data:r,temps:n}=e;f(r)||(this._fake.innerHTML=this.__originHTML,Y({target:t,data:r,temps:n}),this.emit("rendered",{bubbles:!1}))},_clearContent(){this.__rendered&&(this.__rendered=!1,this._fake?.childNodes?.forEach((e=>Be(e))),this._fake.innerHTML="",this.emit("clear",{bubbles:!1}))},init(){if(this._bindend)return;this._bindend=!0;const e=this._fake=new Se(this.tag);if(e.__revokes=this.ele.__revokes,this.before(e),e.init(),this.remove(),"x-if"===this.tag){const t=this._others=[];let r=e;for(;r=r.nextElementSibling,r&&"X-IF"!=r.tagName;)switch(r.tagName){case"X-ELSE":{const e=Fe(r);return e.init?e.init():e._if_ready=1,void t.push(e)}case"X-ELSE-IF":{const e=Fe(r);e._xif=this,t.push(e);break}}}}},created(){this.__originHTML=this.$("template[condition]").html,this.html=""},ready(){this.ele._bindingRendered?this.init():this.one("binding-rendered",(()=>this.init()))}};Ee({tag:"x-if",...je}),Ee({tag:"x-else-if",...je,watch:{value(){this._bindend&&this._xif&&this._xif.refreshValue()}}}),Ee({tag:"x-else",...je,watch:{},ready(){this._if_ready&&this.init()}});const Le=e=>{for(;e&&!e.__render_data;)e=e.parentNode;return e?{target:e,data:e.__render_data,temps:e.__render_temps}:null};Ee({tag:"x-fill",data:{value:null},watch:{value(e,t){this.refreshValue(t?.watchers)}},proto:{refreshValue(e){const t=this.value;if(!this._bindend)return;const r=this._fake.children;if(!t)return r.forEach((e=>Be(e))),void(this._fake.innerHTML="");if(!(t instanceof Array))return console.warn(n("fill_type",{type:i(t)})),void(r&&r.forEach((e=>{Be(e),e.remove()})));const a=Le(this._fake);if(!a)return;const{data:o,temps:s}=a,l=s[this._name],c=this.attr("fill-key")||"xid";if(r.length){if(e){if(!e.some((e=>e.path.length<=1)))return}const a=t.slice(),i=new Set(a.map((e=>{if(!e)return;const t=e[c];return void 0===t?e:t}))),{parentNode:h}=this._fake;if("xid"!==c&&a.length!==i.size){const e=n("fill_key_duplicates");console.error(e),console.warn(e,{parentNode:h,host:Fe(h)?.host?.ele})}const d=[];for(let e=0,t=r.length;e<t;e++){const n=r[e],a=n._data_xid||n;i.has(a)?d.push(a):(Be(n),n.remove(),r.splice(e,1),t--,e--)}let u=this._fake._start;const f=[];let p=0;for(;u;){if(u===this._fake){a.length&&a.forEach((e=>{const t=Me(e,s,l,o.$host||o,p,c);p++,h.insertBefore(t.ele,u)}));break}if(!(u instanceof Element)){u=u.nextSibling;continue}const e=a.shift(),t=e instanceof Object,n=Fe(u).__item;if(void 0===e&&!a.length){f.push(u),u=u.nextSibling;continue}const i=d.indexOf(t?e[c]:e);if(i>-1){const a=r[i];(t?e[c]!==n.$data[c]:e!==n.$data)&&(a.__internal=1,h.insertBefore(a,u),delete a.__internal,u=a);const o=Fe(a);o.__item.$data!==e&&(o.__item.$data=e),o.__item.$index=p}else{const t=Me(e,s,l,o.$host||o,p,c);h.insertBefore(t.ele,u),u=t.ele}p++,u=u.nextSibling}f.length&&f.forEach((e=>{Be(e),e.remove()}))}else{const e=document.createDocumentFragment();t.forEach(((t,r)=>{const n=Me(t,s,l,o.$host||o,r,c);e.appendChild(n.ele)})),this._fake.appendChild(e)}this._fake.parentNode&&Fe(this._fake.parentNode).refresh(),this.emit("rendered",{bubbles:!1})},init(){if(this._bindend)return;this._bindend=!0;const e=this._fake=new Se("x-fill");e.__revokes=this.ele.__revokes,this.before(e),e.init(),this.remove(),this.refreshValue()}},ready(){if(this._name=this.attr("name"),!this._name){const e=n("xhear_fill_tempname",{name:this._name});throw console.warn(e,this.ele),e}this.ele._bindingRendered?this.init():this.one("binding-rendered",(()=>this.init()))}});const Me=(e,t,r,n,a,o)=>{const s=We(r.innerHTML),i=new I({$data:e,$host:n,$index:a});Object.defineProperties(i,{$ele:{get:()=>s}}),Y({target:s.ele,data:i,temps:t,isRenderSelf:!0});const l=s.ele.__revokes,c=()=>{y(l,c),i.revoke()};return l.push(c),s.__item=i,s.ele._data_xid=e?.[o]||e,s},{defineProperties:Ce}=Object,Pe=`get-${Math.random()}`,He=({_this:e,ele:t,proxySelf:r})=>{const n={owner:{get(){const{parentNode:r}=t,{_owner:n}=e,a=r?[Fe(r),...n]:[...n];return new Set(a)}},ele:{get:()=>t}},a=t.tagName&&t.tagName.toLowerCase();a&&(n.tag={enumerable:!0,value:a}),Ce(e,n),(e=>{const{tag:t}=e;if(ge.has(t))switch(pe(["type","name","disabled"],e),t){case"input":_e(e);break;case"textarea":pe(["value"],e),me(e,{name:"value",type:"input"});break;case"option":pe(["selected","value"],e);break;case"select":{const{ele:t}=e;e.__unupdate=1,e.value=t.value,delete e.__unupdate,e.watch((()=>{t.value=e.value})),e.on("change",(()=>{e.value=t.value}))}}})(r)};class $e extends he{constructor({ele:e}){super();const t=F.call(this,{},J);return He({_this:this,ele:e,proxySelf:t}),e.__xhear__=t,t}get length(){return this.ele&&this.ele.children.length}$(e){let{ele:t}=this;t instanceof HTMLTemplateElement&&(t=t.content);const r=t.querySelector(e);return r?Fe(r):null}all(e){return b(this.ele,e).map(Fe)}extend(e,t){return u(this,e,t)}get text(){return this.ele.textContent}set text(e){this.ele.textContent=e}get html(){return this.ele.innerHTML}set html(e){this.ele.innerHTML=e}get classList(){return this.ele.classList}get data(){return this.ele.dataset}get shadow(){return Fe(this.ele.shadowRoot)}get root(){const e=this.ele.getRootNode();return e?Fe(e):null}get host(){let e=this.ele.getRootNode(),{host:t}=e;return t instanceof Node?Fe(t):null}get parent(){let{parentNode:e}=this.ele;return e&&e!==document?Fe(e):null}get parents(){const e=[];let t=this;for(;t.parent;)t=t.parent,e.push(t);return e}parentsUntil(e){const t=this.parents,r=[],n="object"==typeof e;for(;t.length;){const a=t.shift();if(n){if(a===e||a.ele===e)break}else if(_(a.ele,e))break;r.push(a)}return r}get hosts(){const e=[];let t=this;for(;t.host;)t=t.host,e.push(t);return e}composedPath(){let e=[];return this.one(Pe,(t=>{e=t.composedPath(),t.stopPropagation()})),this.emit(Pe,{composed:!0}),e}get next(){const e=this.ele.nextElementSibling;return e?Fe(e):null}after(e){const{next:t}=this;t?t.before(e):this.parent.push(e)}get nexts(){const{parent:e}=this,t=this.index;return e.filter(((e,r)=>r>t))}get prev(){const e=this.ele.previousElementSibling;return e?Fe(e):null}before(e){const t=We(e);this.parent.ele.insertBefore(t.ele,this.ele)}get prevs(){const{parent:e}=this,t=this.index;return e.filter(((e,r)=>r<t))}get siblings(){return this.parent.filter((e=>e!==this))}get index(){let{parentNode:e}=this.ele;return e?Array.prototype.indexOf.call(e.children,this.ele):null}get style(){return this.ele.style}get width(){return parseInt(getComputedStyle(this.ele).width)||0}get height(){return parseInt(getComputedStyle(this.ele).height)||0}get clientWidth(){return this.ele.clientWidth}get clientHeight(){return this.ele.clientHeight}get offsetWidth(){return this.ele.offsetWidth}get offsetHeight(){return this.ele.offsetHeight}get outerWidth(){let e=getComputedStyle(this.ele);return this.ele.offsetWidth+parseInt(e["margin-left"])+parseInt(e["margin-right"])}get outerHeight(){let e=getComputedStyle(this.ele);return this.ele.offsetHeight+parseInt(e["margin-top"])+parseInt(e["margin-bottom"])}is(e){return _(this.ele,e)}remove(){const{parent:e}=this;e&&e.splice(e.indexOf(this),1)}clone(e=!0){return Fe(this.ele.cloneNode(e))}wrap(e){const t=We(e),{ele:r}=this;if(!r.parentNode)throw n("xhear_wrap_no_parent");return r.parentNode.insertBefore(t.ele,r),r.__internal=1,t.ele.appendChild(r),delete r.__internal,this}unwrap(){const{ele:e}=this,t=e.parentNode;if(t.children.length>1)throw n("xhear_unwrap_has_siblings");return e.__internal=1,t.parentNode.insertBefore(e,t),t.remove(),delete e.__internal,this}}const Re=I.prototype,De=$e.prototype;De.extend({get:Re.get,set:Re.set,toJSON:Re.toJSON,toString:Re.toString,...A,...oe,...re,...ne,...be},{enumerable:!1}),De.extend(xe);const Fe=e=>e?e.__xhear__?e.__xhear__:new $e({ele:e}):null,Ie=document.createElement("template"),We=(e,t)=>{if(e instanceof $e)return e;if(e instanceof Node||e===window)return Fe(e);switch(i(e)){case"object":return(e=>{const t={...e};if(!e.tag)return null;const r=document.createElement(e.tag);delete t.tag;const n=Fe(r);return Object.assign(n,t),n})(e);case"string":return(e=>{Ie.innerHTML=e;const t=Ie.content.children[0]||Ie.content.childNodes[0];return Ie.innerHTML="",Fe(t)})(e)}},Be=e=>{e.__revokes&&Array.from(e.__revokes).forEach((e=>e&&e())),e.childNodes&&Array.from(e.childNodes).forEach((e=>{Be(e)}));const t=e?.shadowRoot?.__revokes;t&&[...t].forEach((e=>e()))};return Object.assign(ke,{stanz:de,Stanz:I,render:Y,convert:ee,register:Ee,nextTick:d,fn:$e.prototype,all:e=>b(document,e).map(Fe),frag:()=>ke(document.createDocumentFragment())}),ke}));
//# sourceMappingURL=xhear.min.js.map
